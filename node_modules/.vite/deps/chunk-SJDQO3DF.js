import {
  createEventDispatcher
} from "./chunk-TVA3GBF4.js";

// node_modules/svelte-typewriter/helpers/sleep.js
var sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

// node_modules/svelte-typewriter/helpers/rng.js
var rng = (min, max) => Math.floor(Math.random() * (max - min) + min);

// node_modules/svelte-typewriter/helpers/runOnEveryParentUntil.js
var runOnEveryParentUntil = async (element, parent, callback) => {
  if (!parent) {
    console.error("The specified parent element does not exists!");
    return;
  }
  let currentElement = element;
  do {
    if (currentElement === parent)
      return;
    callback(currentElement);
    currentElement = currentElement.parentElement || currentElement.parentNode;
  } while (currentElement !== null && currentElement.nodeType === 1);
};

// node_modules/svelte-typewriter/helpers/makeNestedStaticElementsVisible.js
var makeNestedStaticElementsVisible = (parentElement) => {
  const staticElements = [...parentElement.querySelectorAll("[data-static]")];
  for (const staticElement of staticElements) {
    runOnEveryParentUntil(staticElement, parentElement, (currentStaticElement) => {
      const isParentElement = currentStaticElement !== staticElement;
      isParentElement && currentStaticElement.classList.add("finished-typing");
    });
  }
};

// node_modules/svelte-typewriter/helpers/hasSingleTextNode.js
var hasSingleTextNode = (el) => el.childNodes.length === 1 && el.childNodes[0].nodeType === 3;

// node_modules/svelte-typewriter/helpers/createElement.js
var createElement = (text, elementTag) => {
  const element = document.createElement(elementTag);
  element.textContent = text;
  return element;
};

// node_modules/svelte-typewriter/helpers/getElements.js
var filterOutStaticElements = (child) => child.dataset.static === void 0;
var getElements = (node, { parentElement }) => {
  if (hasSingleTextNode(parentElement)) {
    const text = parentElement.textContent;
    const childNode = createElement(parentElement.textContent, "p");
    parentElement.textContent = "";
    parentElement.appendChild(childNode);
    return [{ currentNode: childNode, text }];
  }
  if (hasSingleTextNode(node)) {
    const textWithFilteredAmpersand = node.innerHTML.replaceAll("&amp;", "&");
    return [{ currentNode: node, text: textWithFilteredAmpersand }];
  } else {
    const children = [...node.children].filter(filterOutStaticElements);
    const allChildren = children.flatMap((child) => getElements(child, { parentElement }));
    return allChildren;
  }
};

// node_modules/svelte-typewriter/helpers/animationSetup.js
var animationSetup = (node, props) => {
  const dispatch = createEventDispatcher();
  const options = { parentElement: node, dispatch, ...props };
  const elements = getElements(node, options);
  makeNestedStaticElementsVisible(node);
  return { options, elements };
};

export {
  sleep,
  rng,
  runOnEveryParentUntil,
  makeNestedStaticElementsVisible,
  animationSetup
};
//# sourceMappingURL=chunk-SJDQO3DF.js.map
